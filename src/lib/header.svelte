<script lang="ts">
    import { ListBox, ListBoxItem, popup, type PopupSettings } from '@skeletonlabs/skeleton';
    import dayjs from 'dayjs';
    import 'dayjs/locale/ar-sa';

    dayjs.locale('ar-sa');
    //ÙƒÙŠÙ Ø§Ù„ÙÙ†ÙƒØ´Ù† Ø°Ø§ ÙƒÙŠÙ ÙŠØ¹Ø±Ù Ø§Ù„ÙˆÙØª Ø¨Ù†ÙØ³Ù‡  
    let period = dayjs().format('a') == 'Ù…' ? 'Ù…Ø³Ø§Ø¡' : 'ØµØ¨Ø§Ø­';

    //Ù…ØªØºÙŠØ± ÙŠØ®Ø²Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
let comboboxValue: string;

const popupCombobox: PopupSettings = {
	event: 'click',
	target: 'popupCombobox',
	placement: 'bottom',
	closeQuery: '.listbox-item'
};
				
</script>

<header class="flex justify-between">
    <div>
        <h1 class="text-4xl  text-black">
            {period} Ø§Ù„Ø®ÙŠØ± ğŸ‘‹
        </h1>
        <h2 class="text-2xl text-[#6e6f6f] mt-3">
            {dayjs().format('Ø§Ù„ÙŠÙˆÙ…ØŒ dddd D MMMM YYYY')}
        </h2>
    </div>
    
<!-- Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© -->
<button class="btn variant-soft-secondary w-48 h-fit py-4 justify-between" use:popup={popupCombobox}>
	<span>{comboboxValue ?? 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…'}</span>
	<span class="!m-0"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 rotated-counter-clockwise" viewBox="0 0 24 24"><path fill="currentColor" d="m4.296 12l8.492-8.727a.75.75 0 1 0-1.075-1.046l-9 9.25a.75.75 0 0 0 0 1.046l9 9.25a.75.75 0 1 0 1.075-1.046z"/></svg></span>
</button>

<!-- ÙŠØ¸Ù‡Ø± Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŒÙˆÙ„ÙŠÙ‡ Ø¯Ø§Ø®Ù„ div? -->
<div class="card w-48 shadow-xl py-2" data-popup="popupCombobox">
	<ListBox rounded="rounded-none">
		<ListBoxItem bind:group={comboboxValue} name="medium" value="Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…">Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</ListBoxItem>
		<ListBoxItem bind:group={comboboxValue} name="medium" value="Ù…Ù‡Ø§Ù… Ø§Ù„ØºØ¯">Ù…Ù‡Ø§Ù… Ø§Ù„ØºØ¯</ListBoxItem>
		
	</ListBox>
	<div class="arrow bg-surface-100-800-token" />

    <style>
        .rotated-counter-clockwise {
            transform: rotate(-90deg);
        }
    </style>
    
</div>
					
</header>